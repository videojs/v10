---
/**
 * Renders the state interface table for API reference.
 */
import type { StateDef } from "@/types/api-reference";
import Table from "@/components/typography/Table.astro";
import Thead from "@/components/typography/Thead.astro";
import Tbody from "@/components/typography/Tbody.astro";
import Tr from "@/components/typography/Tr.astro";
import Th from "@/components/typography/Th.astro";
import Td from "@/components/typography/Td.astro";
import MarkdownCode from "@/components/typography/MarkdownCode.astro";
import InlineMarkdown from "./InlineMarkdown.astro";

interface Props {
    state: Record<string, StateDef>;
}

const { state } = Astro.props;

const stateEntries = Object.entries(state);
---

<Table maxWidth={false} outerClass="my-6">
    <Thead>
        <Tr>
            <Th>Property</Th>
            <Th>Type</Th>
            <Th>Description</Th>
        </Tr>
    </Thead>
    <Tbody>
        {
            stateEntries.map(([name, def]) => (
                <Tr>
                    <Td class="align-top">
                        <MarkdownCode>{name}</MarkdownCode>
                    </Td>
                    <Td class="align-top">
                        <MarkdownCode>{def.type}</MarkdownCode>
                    </Td>
                    <Td><InlineMarkdown content={def.description} /></Td>
                </Tr>
            ))
        }
    </Tbody>
</Table>
