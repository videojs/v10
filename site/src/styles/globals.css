@import "tailwindcss";

/**
 * @license
 * MyFonts Webfont Build ID 3867246
 *
 * The fonts listed in this notice are subject to the End User License
 * Agreement(s) entered into by the website owner. All other parties are
 * explicitly restricted from using the Licensed Webfonts(s).
 *
 * Webfont: Eurostile LT Pro Bold by Linotype
 * Webfont: Eurostile LT Pro Extended #2 by Linotype
 * Webfont: Eurostile LT Pro Bold Extended #2 by Linotype
 */
@font-face {
  font-family: "Eurostile LT Pro";
  src:
    url("https://static.mux.com/fonts/EurostileLTProBold/font.woff2") format("woff2"),
    url("https://static.mux.com/fonts/EurostileLTProBold/font.woff") format("woff");
  font-weight: bold;
  font-style: normal;
  font-display: swap;
}

@keyframes moveLines {
  from {
    transform: translateY(0);
  }
  to {
    transform: translateY(6px);
  }
}

@keyframes grow-bar {
  from {
    width: 0%;
  }
  to {
    width: 100%;
  }
}

@keyframes grow-bg {
  from {
    height: 0;
  }
  to {
    height: 100%;
  }
}

@layer utilities {
  /* Custom white overlay scrollbar utility */
  .scrollbar-white {
    scrollbar-width: thin;
    scrollbar-color: var(--color-dark-manila) transparent;
  }
  .scrollbar-white::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  .scrollbar-white::-webkit-scrollbar-track {
    background: transparent;
  }
  .scrollbar-white::-webkit-scrollbar-thumb {
    background: var(--color-dark-manila);
    border-radius: 9999px;
  }

  .built-bg {
    background-image: url("/built-bg-horizontal-line.svg");
    background-repeat: repeat-y;
    background-size: 100% 9px;
    background-clip: content-box;
    padding: 8px 10px 0 10px;
    animation: grow-bg 0.9s ease-out forwards;
  }

  .data-bar {
    height: 2.5rem;
    background-image: url("/data-bar-white.svg");
    background-repeat: repeat-x;
    background-size: 6px 100%;
    animation: grow-bar 1.5s ease-out forwards;
  }

  .data-bar-orange {
    background-image: url("/data-bar-orange.svg");
  }

  .grid-separators::before {
    content: "";
    position: absolute;
    top: 0.25rem;
    bottom: 0.25rem;
    left: 0%;
    width: 1px;
    background: var(--color-warm-gray);
    box-shadow: 0 0 0 var(--color-warm-gray);
  }

  .grid-separators::after {
    content: "";
    position: absolute;
    left: 0.25rem;
    right: 0.25rem;
    top: 0;
    height: 1px;
    background: var(--color-warm-gray);
  }
}

@font-face {
  font-family: "Eurostile LT Pro Extended";
  src:
    url("https://static.mux.com/fonts/EurostileLTProExtended2/font.woff2") format("woff2"),
    url("https://static.mux.com/fonts/EurostileLTProExtended2/font.woff") format("woff");
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}
@font-face {
  font-family: "Eurostile LT Pro Extended";
  src:
    url("https://static.mux.com/fonts/EurostileLTProBoldExtended2/font.woff2") format("woff2"),
    url("https://static.mux.com/fonts/EurostileLTProBoldExtended2/font.woff") format("woff");
  font-weight: bold;
  font-style: normal;
  font-display: swap;
}

/* before we begin with tailwind, let's go over some global rules */
/* nested lists should have lower-alpha style */
.list-decimal .list-decimal {
  list-style-type: lower-alpha;
}

/* slightly thinner decorations */
* {
  text-decoration-thickness: max(0.05em, 0.05rem);
}

/* global text decoration offset */
.font-sans {
  text-underline-offset: 0.25em;
}
.font-mono {
  text-underline-offset: 0.125em;
}

/* no ligatures in code... */
.font-mono {
  font-variant-ligatures: none;
}

/* stuff should leave room for the nav when scroll margining */
[id] {
  scroll-margin-top: calc(var(--nav-h) + var(--spacing) * 5 + var(--scroll-mt, 0px));
}

/* basic HTML elements */
b,
strong {
  font-weight: var(--font-weight-semibold);
}
mark {
  background-color: var(--color-yellow);
  color: var(--color-dark-100);
}

/* shiki dark mode */
.dark .shiki,
.dark .shiki span,
.dark .astro-code,
.dark .astro-code span {
  /* biome-ignore lint/complexity/noImportantStyles: override shiki's inline styles */
  color: var(--shiki-dark) !important;
}

/* Ok, now let's do some tailwind stuff */
@custom-variant intent (&:hover,
&:focus-within);
@custom-variant supports-container {
  @supports (container: size) {
    @slot;
  }
}
@custom-variant dark (&:where(.dark, .dark *));
.dark * {
  color-scheme: dark;
}

/* theme inline tells tailwind to reference the value of these properties */
@theme inline {
  --font-*: initial;
  /* --font-instrument-sans and --font-ibm-plex-mono are defined in Base.astro */
  --font-sans: var(--font-instrument-sans);
  --font-mono: var(--font-ibm-plex-mono);
  --font-display-compact: "Eurostile LT Pro", sans-serif;
  --font-display-extended: "Eurostile LT Pro Extended", sans-serif;
}

/* Everything else can be configured here */
@theme {
  --color-*: initial;

  --color-white: white;
  --color-black: black;

  --color-dark-110: #2a2928;
  --color-dark-100: #393836;
  --color-dark-90: #494741;
  --color-dark-80: #5a5850;
  --color-dark-40: #7d796a;

  --color-light-100: #f6eee2;
  --color-light-80: #f3e7d2;
  --color-light-60: #d8d2b2;
  --color-light-40: #c7c2a4;

  --color-faded-black: #1e1d1d;
  --color-warm-gray: #403c38;
  --color-dark-manila: #bfb39e;
  --color-light-manila: #f3e7d2;

  --color-yellow: #ffca18;
  --color-gold: #ffa81b;
  --color-orange: #ff6200;
  --color-red: #eb3132;
  --color-magenta: #cc3566;

  /* Typography */
  --tracking-*: initial;
  --tracking-tighter: -0.04em;
  --tracking-tight: -0.02em;
  --tracking-normal: 0;
  --tracking-wide: 0.02em;
  --tracking-wider: 0.04em;
  --tracking-widest: 0.08em;

  --font-weight-code-normal: 400;
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;

  --text-*: initial;
  --text-h1: 4rem; /* 64px */
  --text-h1--line-height: 1;
  --text-h1--letter-spacing: -0.04em;
  --text-h1--font-weight: var(--font-weight-semibold);
  --text-h2: 3rem; /* 48px */
  --text-h2--line-height: calc(56 / 48);
  --text-h2--letter-spacing: -0.04em;
  --text-h2--font-weight: var(--font-weight-semibold);
  --text-h3: 2.5rem; /* 40px */
  --text-h3--line-height: 1;
  --text-h3--letter-spacing: -0.04em;
  --text-h3--font-weight: var(--font-weight-semibold);
  --text-h4: 2rem; /* 32px */
  --text-h4--line-height: calc(40 / 32);
  --text-h4--letter-spacing: -0.02em;
  --text-h4--font-weight: var(--font-weight-semibold);
  --text-h5: 1.5rem; /* 24px */
  --text-h5--line-height: calc(32 / 24);
  --text-h5--letter-spacing: -0.02em;
  --text-h5--font-weight: var(--font-weight-medium);

  --text-lg: 1.25rem; /* 20px */
  --text-lg--line-height: calc(28 / 20);
  --text-lg--letter-spacing: -0.02em;
  --text-lg--font-weight: var(--font-weight-normal);
  --text-md: 1.125rem; /* 18px */
  --text-md--line-height: calc(26 / 18);
  --text-md--letter-spacing: -0.02em;
  --text-md--font-weight: var(--font-weight-normal);
  --text-base: 1rem; /* 16px */
  --text-base--line-height: calc(24 / 16);
  --text-base--letter-spacing: -0.02em;
  --text-base--font-weight: var(--font-weight-normal);
  --text-sm: 0.875rem; /* 14px */
  --text-sm--line-height: calc(20 / 14);
  --text-sm--letter-spacing: -0.02em;
  --text-sm--font-weight: var(--font-weight-normal);

  /* Notice the use of em, so that code scales with, say, headers */
  --text-code: clamp(0.875em, calc(0.8125em + 0.125rem), 0.9375em);
  --text-code--line-height: inherit;
  --text-code--letter-spacing: -0.02em;
  --text-code--font-weight: var(--font-weight-code-normal);
  /* if you don't want this scaling, use text-base-code */
  --text-base-code: 0.9375rem;
  --text-base-code--line-height: calc(28 / 16);
  --text-base-code--letter-spacing: -0.02em;
  --text-base-code--font-weight: var(--font-weight-code-normal);

  /* animations */
  --animate-marquee: marquee 40s linear infinite;
  @keyframes marquee {
    from {
      transform: translate3d(-50%, 0, 0);
    }
    to {
      transform: translate3d(0, 0, 0);
    }
  }
}
